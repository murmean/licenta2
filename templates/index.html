<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TextMiner</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>

<body class="container mt-5">
<div class="row">
    <!-- Left Side: Input & Analysis -->
    <div class="col-md-6">
        <h1 class="text-center">Tunneler
            <br> Your free open source text-miner</h1>
        <form id="textForm" class="mt-3">
            <textarea id="textInput" class="form-control" rows="5"
                      placeholder="Enter text or upload a file..."></textarea>

            <h5 class="mt-3">Upload File (Allowed: .txt, .csv):</h5>
            <input type="file" id="fileInput" class="form-control mt-2" accept=".txt, .csv">
            <small class="text-muted">Only .txt and .csv files are allowed.</small>

            <!-- File Name Display & Remove Button -->
            <div id="fileInfo" class="mt-2" style="display: none;">
                <span id="fileName" class="badge bg-primary"></span>
                <button type="button" id="removeFileBtn" class="btn btn-danger btn-sm ms-2">Remove File</button>
            </div>

            <h5 class="mt-3">Preprocessing Options:</h5>
            <label><input type="checkbox" id="lowercase"> Lowercasing</label><br>
            <label><input type="checkbox" id="remove_punct"> Punctuation Removal</label><br>
            <label><input type="checkbox" id="remove_stopwords"> Stopword Removal</label><br>
            <label><input type="checkbox" id="lemmatize"> Lemmatization</label><br>
            <button type="submit" class="btn btn-primary mt-3">Analyze</button>
        </form>


        <div id="results" class="mt-4" style="display: none;">
            <h4>Sentiment Score: <span id="sentiment"></span></h4>
            {#            <h4>Word Cloud:</h4>#}
            {#            <img id="wordcloud" src="" alt="Word Cloud" class="img-fluid" style="max-width: 500px; display: none;">#}
            <h4>Extracted Topics:</h4>
            <ul id="topics" class="list-group">
            </ul>
        </div>
    </div>


    <!-- Right Side: Display Processed Text with Highlights & Download Button -->
    <div class="col-md-6">
        <h3>Processed Text:</h3>
        <div id="processedText" class="border p-3" style="white-space: pre-wrap;"></div>
        <button id="downloadTextBtn" class="btn btn-success mt-3" style="display: none;">Download Processed Text
        </button>
    </div>

</div>

<script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
